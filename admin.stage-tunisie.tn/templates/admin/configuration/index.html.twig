{% extends 'admin/base_admin.html.twig' %}
{% block title %} Paramètres généreaux {% endblock %}
{% block body %}
 <div class="page-wrapper">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="page-breadcrumb">
        <div class="row">
            <div class="col-7 align-self-center">
                <h3 class="page-title text-truncate text-dark font-weight-medium mb-1">Paramètres généreaux</h3>
            </div>
        </div>
    </div>

     <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <!-- basic table -->
                 {% for message in app.flashes('success') %}
                    <div class="alert alert-success alert-dismissible bg-success text-white border-0 fade show" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                        {{ message }}
                    </div>
                {% endfor %}
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                {{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}
                                    {% for configuration in itemsConfig %}
                                        <div class="row">
                                                <label class="col-md-2 text-right">{{ configuration.name|trans([],'labels') }}</label>
                                                <div class="col-md-7">
                                                    <div class="form-group">
                                                    <input 
                                                    {% if configuration.name == 'site_title' or  configuration.name == 'site_email' %} required {% endif %}
                                                    {% if configuration.name == 'site_email' %} type="email"  class="form-control" 
                                                    {% elseif configuration.name == 'site_logo' %} type="file"  class="form-control"
                                                    type="text"  class="form-control"
                                                    {% else %} 
                                                    type="text"  class="form-control" 
                                                    {% endif %}
                                                    name={{ configuration.name }} 
                                                    value="{{configuration.value}}">
                                                    </div>
                                                </div>
                                        </div>
                                        {% if configuration.name == 'site_logo' %}
                                            {% if logo is defined and logo is not empty %}
                                            {% if logo['file_exists'] == true %}
                                                        <div class="row">
                                                            <div class="col-md-9 text-center"><img src="{{asset(logo['url_image'])}}" class="image-logo"  />   </div>
                                                        </div>  
                                                            
                                            {% endif %}
                                                <div class="row">
                                                    <div class="col-md-9"></div>
                                                </div>  
                                            {% endif %}   
                                        {% endif %}
                                    {% endfor %}
                                    <div class="text-right mt-3">
                                        <button type="submit" class="btn btn-info">{{ button_label|default('Enregistrer') }}</button>
                                    </div>
                                {{ form_end(form) }}


                            </div>
                        </div>
                    </div>
                </div>
            </div>
{% endblock %}